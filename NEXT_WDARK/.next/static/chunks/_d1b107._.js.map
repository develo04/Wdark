{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/migue/webdigitalark/NEXT_WDARK/src/app/components/internalBlog.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function InternalBlog() {\r\n  const [blogData, setBlogData] = useState(null);\r\n  const [allBlogs, setAllBlogs] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { categoria, titulo } = useParams(); // Actualizamos para recibir categoría y título\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchBlogData = async () => {\r\n      try {\r\n        const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/json/nodes`, { \r\n          method: \"GET\" \r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Error en la respuesta: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        // Filtrar para excluir el nodo con nid: \"1\" igual que en BlogHome\r\n        const filteredData = Array.isArray(data) ? data.filter(item => item.nid !== \"1\") : [];\r\n        \r\n        // Guardar todos los blogs filtrados\r\n        setAllBlogs(filteredData);\r\n        \r\n        // Encontrar el blog específico basado en los parámetros de la URL (categoría y título)\r\n        const currentBlog = filteredData.find(blog => {\r\n          const blogCategory = blog?.fields?.field_categories?.[0]?.label;\r\n          // Decodificar el título del blog y el parámetro de la URL para comparar correctamente\r\n          const blogTitle = blog.title;\r\n          const decodedTitulo = decodeURIComponent(titulo);\r\n          \r\n          // Comprobar si coinciden tanto la categoría como el título\r\n          return (\r\n            blogCategory?.toLowerCase() === categoria?.toLowerCase() && \r\n            blogTitle?.toLowerCase() === decodedTitulo?.toLowerCase()\r\n          );\r\n        });\r\n        \r\n        if (currentBlog) {\r\n          setBlogData(currentBlog);\r\n        } else {\r\n          setError(\"No se encontró el blog específico\");\r\n          console.error(\"Blog no encontrado\", { categoria, titulo, blogs: filteredData });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error al obtener los datos del blog:\", err);\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBlogData();\r\n  }, [categoria, titulo]);\r\n\r\n  // Función para manejar clic en categoría\r\n  const handleCategoryClick = (category) => {\r\n    router.push(`/blog?category=${encodeURIComponent(category)}`);\r\n  };\r\n\r\n  // Función para manejar clic en etiqueta\r\n  const handleTagClick = (tag) => {\r\n    router.push(`/blog?tag=${encodeURIComponent(tag)}`);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <p>Cargando contenido del blog...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>Error al cargar el contenido del blog: {error}</p>;\r\n  }\r\n\r\n  if (!blogData) {\r\n    return <p>No se encontró el contenido del blog.</p>;\r\n  }\r\n\r\n  // Extraer categorías únicas de todos los blogs\r\n  const uniqueCategories = Array.from(\r\n    new Set(\r\n      allBlogs\r\n        .flatMap(blog => blog?.fields?.field_categories || [])\r\n        .map(cat => cat?.label)\r\n    )\r\n  ).filter(Boolean);\r\n\r\n  return (\r\n    <div className=\"internal-blog\">\r\n      <div className=\"internal-blog-header\">\r\n        <div className=\"internal-blog-header-items\">\r\n          <div className=\"internal-blog-header-title\">\r\n            <h1 className=\"internal-blog-title\">Blog</h1>\r\n            <h2 className=\"internal-blog-subtitle\">\r\n              {blogData.fields?.field_subtitle}\r\n            </h2>\r\n            <h2 className=\"internal-blog-label-general\">\r\n              {blogData.fields?.field_categories?.[0]?.label}\r\n            </h2>\r\n          </div>\r\n          <div className=\"internal-blog-breadcrumb\">\r\n            <Link href=\"/\">Inicio</Link> / <Link href=\"/blog\">Blog</Link> / \r\n            <Link href={`/blog?category=${encodeURIComponent(blogData.fields?.field_categories?.[0]?.label || '')}`}>\r\n              {blogData.fields?.field_categories?.[0]?.label || ''}\r\n            </Link> / {blogData.title}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"internal-blog-labels-and-article\">\r\n        <div className=\"internal-blog-labels\">\r\n          <div className=\"internal-blog-labels-categories\">\r\n            <h1 className=\"internal-blog-labels-categories-title\">Categorias</h1>\r\n            <div className=\"internal-blog-labels-categories-items\">\r\n              {uniqueCategories.map((category, index) => (\r\n                <div className=\"internal-blog-label-categories-item\" key={index}>\r\n                  <a \r\n                    className=\"internal-blog-label-categories-link\"\r\n                    onClick={() => handleCategoryClick(category)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    {category}\r\n                  </a>\r\n                  <span className=\"internal-blog-label-categories-quantity\">\r\n                    -{allBlogs.filter(blog => \r\n                      blog?.fields?.field_categories?.some(cat => cat.label === category)\r\n                    ).length}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n              <div className=\"internal-blog-label-categories-item-all\">\r\n                <a \r\n                  className=\"internal-blog-label-categories-link\"\r\n                  onClick={() => router.push('/blog')}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Todas las categorias\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"internal-blog-labels-tag\">\r\n            <h1 className=\"internal-blog-labels-tag-title\">Etiquetas</h1>\r\n            <div className=\"internal-blog-labels-tag-items\">\r\n              {blogData.fields?.field_labels && blogData.fields.field_labels.map((tag, index) => (\r\n                <div className=\"internal-blog-label-tag-item\" key={index}>\r\n                  <a \r\n                    className=\"internal-blog-label-tag-link\"\r\n                    onClick={() => handleTagClick(tag.label)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    {tag.label}\r\n                  </a>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"internal-blog-article\">\r\n          <div className=\"internal-blog-article-principal-description\">\r\n            {blogData.fields?.field_full_html_text && (\r\n              <div dangerouslySetInnerHTML={{ \r\n                __html: blogData.fields.field_full_html_text.split('</p>')[0] + '</p>' \r\n              }} />\r\n            )}\r\n          </div>\r\n          <div className=\"internal-blog-article-image\">\r\n            {blogData.fields?.field_principal_image_blog && \r\n              blogData.fields.field_principal_image_blog[0] && (\r\n                <Image \r\n                  src={`${process.env.NEXT_PUBLIC_API_URL}${blogData.fields.field_principal_image_blog[0].src}`}\r\n                  alt={blogData.fields.field_principal_image_blog[0].src || blogData.title}\r\n                  width={800}\r\n                  height={500}\r\n                  style={{ width: '100%', height: 'auto' }}\r\n                  priority\r\n                />\r\n              )\r\n            }\r\n          </div>\r\n          <div className=\"internal-blog-article-description\">\r\n            {blogData.fields?.field_full_html_text && (\r\n              <div dangerouslySetInnerHTML={{ \r\n                __html: blogData.fields.field_full_html_text.split('</p>').slice(1).join('</p>')\r\n              }} />\r\n            )}\r\n          </div>\r\n          <div className=\"internal-blog-article-logo-wdark\">\r\n            {blogData.fields?.field_logo_wdark && \r\n              blogData.fields.field_logo_wdark[0] && (\r\n                <Image \r\n                  src={`${process.env.NEXT_PUBLIC_API_URL}${blogData.fields.field_logo_wdark[0].src}`}\r\n                  alt={blogData.fields.field_logo_wdark[0].src || \"Logo\"}\r\n                  width={150}\r\n                  height={50}\r\n                  style={{ width: 'auto', height: 'auto' }}\r\n                  priority\r\n                />\r\n              )\r\n            }\r\n            <div className=\"internal-blog-article-auth-name-and-position\">\r\n              <h2 className=\"auth-name\">{blogData.fields?.field_auth_name || \"\"}</h2>\r\n              <h2 className=\"auth-position\">{blogData.fields?.field_auth_position || \"\"}</h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/migue/webdigitalark/NEXT_WDARK/src/app/blog/%5Bslug%5D/%5Binterna%5D/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport InternalBlog from \"../../../components/internalBlog\"; // Ajusta la ruta de importación según tu estructura\r\n\r\nexport default function BlogArticlePage() {\r\n  return <InternalBlog />;\r\n}"],"names":[],"mappings":";;;;AAEA,oPAA6D,oDAAoD;AAFjH;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,4IAAA,CAAA,UAAY;;;;;AACtB;KAFwB"}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/migue/webdigitalark/NEXT_WDARK/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 520, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}